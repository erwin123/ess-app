<div style="margin: 6px 6px 6px 6px;">
  <h1 lyTyp="display1" gutterBottom>Set Lokasi Kerja</h1>
  <ly-grid container [spacing]="8" style="margin-bottom:18px;">
    <ly-grid item col="6 12@XSmall">
      <form
        [formGroup]="locationForm"
        (ngSubmit)="onSubmit()"
        [className]="classes.container"
      >
        <ly-field appearance="outlined" fullWidth>
          <input
            lyNativeControl
            type="text"
            placeholder="Kode Lokasi"
            formControlName="WorkLocationCode"
          />
          <ly-hint></ly-hint>
          <ly-error *ngIf="WorkLocationCode.hasError('minlength')"
            >Min 5</ly-error
          >
          <ly-error *ngIf="WorkLocationCode.hasError('maxlength')"
            >Max 50</ly-error
          >
          <ly-error *ngIf="WorkLocationCode.hasError('required')"
            >Wajib diisi</ly-error
          >
        </ly-field>
        <ly-field appearance="outlined" fullWidth>
          <input
            lyNativeControl
            type="text"
            placeholder="Nama Lokasi"
            formControlName="WorkLocationName"
          />
          <ly-hint></ly-hint>
          <ly-error *ngIf="WorkLocationName.hasError('minlength')"
            >Min 5</ly-error
          >
          <ly-error *ngIf="WorkLocationName.hasError('maxlength')"
            >Max 50</ly-error
          >
          <ly-error *ngIf="WorkLocationName.hasError('required')"
            >Wajib diisi</ly-error
          >
        </ly-field>
        <ly-field appearance="outlined" fullWidth>
          <input
            lyNativeControl
            type="text"
            placeholder="No.Telepon"
            formControlName="WorkLocationPhone"
          />
          <ly-hint></ly-hint>
          <ly-error *ngIf="WorkLocationPhone.hasError('minlength')"
            >Min 8</ly-error
          >
          <ly-error *ngIf="WorkLocationPhone.hasError('maxlength')"
            >Max 15</ly-error
          >
          <ly-error *ngIf="WorkLocationPhone.hasError('required')"
            >Wajib diisi</ly-error
          >
        </ly-field>
        <ly-field appearance="outlined" fullWidth>
          <ly-label>Tipe Lokasi</ly-label>
          <ly-select
            placeholder="Tipe Lokasi"
            formControlName="WorkLocationType"
          >
            <ly-option value="HO">Head Office</ly-option>
            <ly-option value="PRJ">Project</ly-option>
          </ly-select>
        </ly-field>
        <ly-field appearance="outlined" fullWidth>
          <textarea
            lyNativeControl
            placeholder="Alamat Lokasi"
            formControlName="WorkLocationAddress"
          >
          </textarea>
          <ly-hint></ly-hint>
          <ly-error *ngIf="WorkLocationAddress.hasError('minlength')"
            >Min 10</ly-error
          >
          <ly-error *ngIf="WorkLocationAddress.hasError('maxlength')"
            >Max 150</ly-error
          >
          <ly-error *ngIf="WorkLocationAddress.hasError('required')"
            >Wajib diisi</ly-error
          >
        </ly-field>
        <div className="mapContainer">
          <div id="map" class="map" tabindex="0"></div>
          <!-- <br />
          <button
            type="button"
            ly-button
            outlined
            color="primary"
            (click)="setHeadOffice(headOffice)"
          >
            <ly-icon>apartment</ly-icon>&nbsp;Head Office</button
          >&nbsp; -->
          <button
            type="button"
            ly-button
            outlined
            color="accent"
            *ngIf="pickedLonLat[0] != 0"
            (click)="clearDraw()"
          >
            <ly-icon>close</ly-icon>&nbsp;Hapus
          </button>
        </div>
        <ly-field appearance="outlined" fullWidth>
          <input
            lyNativeControl
            type="text"
            placeholder="Longitute"
            formControlName="Long"
          />
          <ly-hint></ly-hint>
          <ly-error>Wajib diisi</ly-error>
        </ly-field>
        <ly-field appearance="outlined" fullWidth>
          <input
            lyNativeControl
            type="text"
            placeholder="Latitude"
            formControlName="Lat"
          />
          <ly-hint></ly-hint>
          <ly-error>Wajib diisi</ly-error>
        </ly-field>
        <ly-field appearance="outlined" fullWidth>
          <input
            lyNativeControl
            floatingLabel
            type="text"
            placeholder="Radius"
            formControlName="Radius"
          />
          <ly-label>Radius</ly-label>
          <span>Meter&nbsp;</span>
          <ly-hint></ly-hint>
          <ly-error>Wajib diisi</ly-error>
        </ly-field>
        <div [className]="classes.switch">
          <button
            ly-button
            [bg]="rowStatus ? 'grind' : 'white'"
            type="button"
            (click)="switchChange(true)"
          >
            Aktif
          </button>
          <button
            ly-button
            [bg]="rowStatus ? 'white' : 'grind'"
            type="button"
            (click)="switchChange(false)"
          >
            Nonaktif
          </button>
        </div>
        <div [className]="classes.errMsg" *ngIf="errMsg">
          {{ errMsg }}
        </div>
        <br />
        <button
          (click)="clearDraw()"
          style="width: 49%;margin-right: 2%;"
          ly-button
          outlined
          color="primary"
          type="reset"
        >
          <ly-icon>undo</ly-icon>&nbsp;Reset
        </button>
        <button style="width: 49%;" ly-button bg="primary" raised type="submit">
          <ly-icon>save</ly-icon>&nbsp;Simpan
        </button>
      </form>
    </ly-grid>
    <ly-grid item col="6 12@XSmall"> </ly-grid>
  </ly-grid>
</div>
